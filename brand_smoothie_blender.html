<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Brand Smoothie Blender - AI Content Mixing Station</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0a0e1a 0%, #1a1f35 100%);
            color: #ffffff;
            min-height: 100vh;
            overflow-x: hidden;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
            aspect-ratio: 16/9;
            height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
        }

        .header h1 {
            font-size: 2.5rem;
            font-weight: 300;
            margin-bottom: 10px;
            background: linear-gradient(45deg, #00d4ff, #ffffff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .header p {
            font-size: 1.1rem;
            opacity: 0.8;
            font-weight: 300;
        }

        .main-content {
            display: flex;
            flex-direction: column;
            gap: 30px;
            flex: 1;
        }

        .top-section {
            display: grid;
            grid-template-columns: 1fr 400px 1fr;
            gap: 30px;
            align-items: start;
        }

        .bottom-section {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .ingredients-panel {
            background: rgba(255,255,255,0.05);
            border-radius: 15px;
            padding: 25px;
            border: 1px solid rgba(255,255,255,0.1);
            height: fit-content;
        }

        .ingredients-panel h2 {
            color: #00d4ff;
            margin-bottom: 20px;
            font-size: 1.3rem;
            font-weight: 400;
        }

        .ingredient {
            background: rgba(255,255,255,0.08);
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
            position: relative;
            overflow: hidden;
        }

        .ingredient:hover {
            transform: translateY(-2px);
            background: rgba(0,212,255,0.1);
            border-color: #00d4ff;
        }

        .ingredient.selected {
            border-color: #00d4ff;
            background: rgba(0,212,255,0.15);
        }

        .ingredient-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 15px;
        }

        .ingredient-header > div:first-child {
            flex: 1;
        }

        .ingredient-name {
            font-weight: 500;
            margin-bottom: 5px;
            font-size: 1rem;
        }

        .ingredient-desc {
            font-size: 0.85rem;
            opacity: 0.7;
            line-height: 1.4;
        }

        .sentiment-thermometer {
            width: 120px;
            height: 30px;
            position: relative;
            cursor: pointer;
            transition: all 0.3s ease;
            flex-shrink: 0;
            background: linear-gradient(90deg, #ff6b6b 0%, #ffd93d 50%, #4ecdc4 100%);
            border-radius: 15px;
            border: 2px solid rgba(255,255,255,0.2);
            padding: 3px;
        }

        .sentiment-thermometer:hover {
            transform: scale(1.05);
            box-shadow: 0 0 15px rgba(0,212,255,0.3);
        }

        .sentiment-slider {
            width: 24px;
            height: 24px;
            background: white;
            border-radius: 50%;
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            transition: all 0.4s ease;
            box-shadow: 0 2px 8px rgba(0,0,0,0.3);
            border: 2px solid rgba(255,255,255,0.8);
            z-index: 2;
            cursor: grab;
        }

        .sentiment-slider:active {
            cursor: grabbing;
            transform: translateY(-50%) scale(1.1);
        }

        .sentiment-slider::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 12px;
            height: 12px;
            border-radius: 50%;
            transition: background 0.3s ease;
        }

        .sentiment-faces {
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            transform: translateY(-50%);
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 8px;
            pointer-events: none;
            z-index: 1;
        }

        .sentiment-face {
            font-size: 16px;
            opacity: 0.7;
            transition: opacity 0.3s ease;
        }

        /* Slider positions and colors for different sentiments - REVERSED ORDER */
        .sentiment-thermometer[data-sentiment="negative"] .sentiment-slider {
            left: 3px;
        }

        .sentiment-thermometer[data-sentiment="negative"] .sentiment-slider::before {
            background: #ff6b6b;
        }

        .sentiment-thermometer[data-sentiment="negative"] .sentiment-face.angry {
            opacity: 1;
            text-shadow: 0 0 5px rgba(255,107,107,0.5);
        }

        .sentiment-thermometer[data-sentiment="neutral"] .sentiment-slider {
            left: 48px;
        }

        .sentiment-thermometer[data-sentiment="neutral"] .sentiment-slider::before {
            background: #ffd93d;
        }

        .sentiment-thermometer[data-sentiment="neutral"] .sentiment-face {
            opacity: 0.8;
        }

        .sentiment-thermometer[data-sentiment="positive"] .sentiment-slider {
            left: 93px;
        }

        .sentiment-thermometer[data-sentiment="positive"] .sentiment-slider::before {
            background: #4ecdc4;
        }

        .sentiment-thermometer[data-sentiment="positive"] .sentiment-face.happy {
            opacity: 1;
            text-shadow: 0 0 5px rgba(78,205,196,0.5);
        }

        /* Remove old thermometer styles */
        .thermometer-bulb,
        .thermometer-tube,
        .thermometer-fill {
            display: none;
        }

        .blender-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
        }

        .blender {
            width: 320px;
            height: 450px;
            position: relative;
            margin-bottom: 20px;
            filter: drop-shadow(0 10px 30px rgba(0,0,0,0.3));
        }

        .blender-base {
            width: 220px;
            height: 140px;
            background: linear-gradient(145deg, #2a2f45, #1a1f35);
            border-radius: 20px 20px 25px 25px;
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            border: 3px solid rgba(255,255,255,0.15);
            box-shadow: inset 0 5px 15px rgba(255,255,255,0.1);
        }

        .blender-base::before {
            content: '';
            position: absolute;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 40px;
            background: linear-gradient(145deg, #00d4ff, #0099cc);
            border-radius: 20px;
            box-shadow: 0 2px 8px rgba(0,212,255,0.3);
        }

        .blender-base::after {
            content: 'BLEND';
            position: absolute;
            top: 32px;
            left: 50%;
            transform: translateX(-50%);
            color: white;
            font-size: 0.7rem;
            font-weight: bold;
            letter-spacing: 1px;
        }

        .control-dial {
            position: absolute;
            top: 80px;
            right: 30px;
            width: 30px;
            height: 30px;
            background: linear-gradient(145deg, #3a3f55, #2a2f45);
            border-radius: 50%;
            border: 2px solid rgba(255,255,255,0.2);
            box-shadow: inset 0 2px 5px rgba(0,0,0,0.3);
        }

        .control-dial::before {
            content: '';
            position: absolute;
            top: 3px;
            left: 50%;
            transform: translateX(-50%);
            width: 3px;
            height: 8px;
            background: #00d4ff;
            border-radius: 2px;
        }

        .blender-jar {
            width: 200px;
            height: 320px;
            background: linear-gradient(to bottom, 
                rgba(255,255,255,0.15) 0%,
                rgba(255,255,255,0.12) 20%,
                rgba(255,255,255,0.08) 80%,
                rgba(255,255,255,0.05) 100%);
            border-radius: 15px 15px 25px 25px;
            position: absolute;
            bottom: 120px;
            left: 50%;
            transform: translateX(-50%);
            border: 4px solid rgba(255,255,255,0.25);
            overflow: hidden;
            box-shadow: 
                0 0 30px rgba(255,255,255,0.1),
                inset 0 5px 20px rgba(255,255,255,0.05);
        }

        .jar-handle {
            position: absolute;
            right: -15px;
            top: 50px;
            width: 25px;
            height: 80px;
            border: 4px solid rgba(255,255,255,0.25);
            border-left: none;
            border-radius: 0 15px 15px 0;
            background: transparent;
        }

        .jar-lid {
            position: absolute;
            top: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 120px;
            height: 20px;
            background: linear-gradient(145deg, #2a2f45, #1a1f35);
            border-radius: 10px;
            border: 2px solid rgba(255,255,255,0.15);
            box-shadow: 0 3px 10px rgba(0,0,0,0.2);
        }

        .jar-lid::before {
            content: '';
            position: absolute;
            top: -8px;
            left: 50%;
            transform: translateX(-50%);
            width: 30px;
            height: 15px;
            background: linear-gradient(145deg, #3a3f55, #2a2f45);
            border-radius: 8px;
            border: 1px solid rgba(255,255,255,0.2);
        }

        .blender-contents {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 0;
            background: linear-gradient(45deg, #00d4ff, #4ecdc4);
            transition: height 0.8s ease;
            opacity: 0.85;
            box-shadow: 0 0 20px rgba(0,212,255,0.3);
        }

        .blender-contents.blending {
            animation: liquidBounce 0.3s ease-in-out infinite;
        }

        @keyframes liquidBounce {
            0%, 100% { transform: scaleY(1); }
            50% { transform: scaleY(0.95); }
        }

        .blender-blade {
            width: 80px;
            height: 80px;
            position: absolute;
            bottom: 25px;
            left: 50%;
            transform: translateX(-50%);
            background: conic-gradient(from 0deg, #ffffff, #e0e0e0, #ffffff, #e0e0e0);
            border-radius: 50%;
            opacity: 0.4;
            transition: transform 0.3s ease;
            border: 3px solid rgba(255,255,255,0.6);
            box-shadow: 0 0 15px rgba(255,255,255,0.2);
        }

        .blender-blade::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 60px;
            height: 4px;
            background: linear-gradient(90deg, transparent, #ffffff, transparent);
            border-radius: 2px;
        }

        .blender-blade::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) rotate(90deg);
            width: 60px;
            height: 4px;
            background: linear-gradient(90deg, transparent, #ffffff, transparent);
            border-radius: 2px;
        }

        .blender-blade.spinning {
            animation: bladeSpinFast 0.1s linear infinite;
            opacity: 0.8;
            box-shadow: 0 0 25px rgba(255,255,255,0.4);
        }

        @keyframes bladeSpinFast {
            from { transform: translateX(-50%) rotate(0deg); }
            to { transform: translateX(-50%) rotate(360deg); }
        }

        .blender-jar.shaking {
            animation: jarShake 0.1s ease-in-out infinite;
        }

        @keyframes jarShake {
            0%, 100% { transform: translateX(-50%) translateY(0); }
            25% { transform: translateX(-50%) translateY(-1px) rotate(0.5deg); }
            75% { transform: translateX(-50%) translateY(1px) rotate(-0.5deg); }
        }

        .blend-button {
            background: linear-gradient(45deg, #00d4ff, #0099cc);
            color: white;
            border: none;
            padding: 15px 40px;
            border-radius: 30px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .blend-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(0,212,255,0.4);
        }

        .blend-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .results-panel {
            background: rgba(255,255,255,0.05);
            border-radius: 15px;
            padding: 25px;
            border: 1px solid rgba(255,255,255,0.1);
            height: fit-content;
            display: flex;
            flex-direction: column;
            gap: 25px;
        }

        .brand-smoothie-result {
            background: rgba(0,212,255,0.08);
            border-radius: 12px;
            padding: 20px;
            border: 1px solid rgba(0,212,255,0.2);
        }

        .brand-smoothie-result h2 {
            color: #00d4ff;
            margin-bottom: 15px;
            font-size: 1.3rem;
            font-weight: 400;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .brand-smoothie-result h2::before {
            content: "ðŸ¥¤";
            font-size: 1.2rem;
        }

        .smoothie-readout {
            font-size: 1rem;
            line-height: 1.6;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.8s ease;
        }

        .ai-brand-definition {
            margin-bottom: 20px;
        }

        .ai-brand-definition h3 {
            color: #00d4ff;
            font-size: 1.1rem;
            font-weight: 500;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .brand-statement {
            font-size: 1.05rem;
            line-height: 1.6;
            background: rgba(255,255,255,0.05);
            padding: 18px;
            border-radius: 8px;
            border-left: 4px solid #00d4ff;
            font-style: italic;
            position: relative;
        }

        .brand-statement::before {
            content: '"';
            font-size: 3rem;
            color: #00d4ff;
            opacity: 0.3;
            position: absolute;
            top: -5px;
            left: 8px;
            font-family: Georgia, serif;
        }

        .brand-statement::after {
            content: '"';
            font-size: 3rem;
            color: #00d4ff;
            opacity: 0.3;
            position: absolute;
            bottom: -25px;
            right: 8px;
            font-family: Georgia, serif;
        }

        .smoothie-readout.positive {
            background: linear-gradient(135deg, rgba(78,205,196,0.1), rgba(125,211,219,0.1));
            border-left: 4px solid #4ecdc4;
            padding: 15px;
            border-radius: 8px;
        }

        .smoothie-readout.mixed {
            background: linear-gradient(135deg, rgba(255,217,61,0.1), rgba(255,235,122,0.1));
            border-left: 4px solid #ffd93d;
            padding: 15px;
            border-radius: 8px;
        }

        .smoothie-readout.negative {
            background: linear-gradient(135deg, rgba(255,107,107,0.1), rgba(255,142,142,0.1));
            border-left: 4px solid #ff6b6b;
            padding: 15px;
            border-radius: 8px;
        }

        .brand-confidence-meter {
            margin: 15px 0;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .confidence-bar {
            flex: 1;
            height: 8px;
            background: rgba(255,255,255,0.1);
            border-radius: 4px;
            overflow: hidden;
            position: relative;
        }

        .confidence-fill {
            height: 100%;
            background: linear-gradient(90deg, #ff6b6b 0%, #ffd93d 50%, #4ecdc4 100%);
            width: 0%;
            transition: width 1s ease;
            border-radius: 4px;
        }

        .confidence-label {
            font-size: 0.85rem;
            font-weight: 600;
            min-width: 80px;
            text-align: right;
        }

        .optimization-section h2 {
            color: #00d4ff;
            margin-bottom: 20px;
            font-size: 1.3rem;
            font-weight: 400;
        }

        .result-item {
            background: rgba(255,255,255,0.08);
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 15px;
            opacity: 0;
            transform: translateX(30px);
            transition: all 0.5s ease;
        }

        .result-item.show {
            opacity: 1;
            transform: translateX(0);
        }

        .result-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .result-title {
            font-weight: 600;
            color: #00d4ff;
            font-size: 1.1rem;
        }

        .impact-badge {
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .immediate { background: #4ecdc4; color: #0a0e1a; }
        .short-term { background: #ffd93d; color: #0a0e1a; }
        .long-term { background: #ff6b6b; color: white; }

        .result-content {
            margin-bottom: 15px;
        }

        .optimization-tip {
            background: rgba(0,212,255,0.1);
            border-left: 4px solid #00d4ff;
            padding: 12px;
            border-radius: 5px;
            font-size: 0.9rem;
            line-height: 1.4;
        }

        .timeline {
            display: flex;
            align-items: center;
            margin-top: 10px;
            font-size: 0.85rem;
        }

        .timeline-icon {
            width: 20px;
            height: 20px;
            background: #00d4ff;
            border-radius: 50%;
            margin-right: 10px;
        }

        .timeline-icon.immediate { background: #4ecdc4; }
        .timeline-icon.short-term { background: #ffd93d; }
        .timeline-icon.long-term { background: #ff6b6b; }

        .ingredient-counter {
            position: absolute;
            top: 10px;
            right: 10px;
            background: #00d4ff;
            color: #0a0e1a;
            border-radius: 50%;
            width: 25px;
            height: 25px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .floating-particles {
            position: absolute;
            width: 100%;
            height: 100%;
            pointer-events: none;
            overflow: hidden;
        }

        .particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: #00d4ff;
            border-radius: 50%;
            opacity: 0;
        }

        @keyframes float {
            0% { 
                transform: translateY(20px); 
                opacity: 0; 
            }
            50% { 
                opacity: 1; 
            }
            100% { 
                transform: translateY(-100px); 
                opacity: 0; 
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Brand Smoothie Blender</h1>
            <p>AI-Powered Content Source Mixing Station for Brand Intelligence</p>
        </div>

        <div class="main-content">
            <div class="top-section">
                <div class="ingredients-panel">
                    <h2>Content Ingredients</h2>
                    
                    <div class="ingredient" data-ingredient="website">
                        <div class="ingredient-header">
                            <div>
                                <div class="ingredient-name">Company Website</div>
                                <div class="ingredient-desc">Homepage, product pages, about section, and corporate content</div>
                            </div>
                            <div class="sentiment-thermometer" data-sentiment="neutral" onclick="cycleSentiment(event, 'website')">
                                <div class="sentiment-faces">
                                    <span class="sentiment-face angry">ðŸ˜ </span>
                                    <span class="sentiment-face happy">ðŸ˜Š</span>
                                </div>
                                <div class="sentiment-slider"></div>
                            </div>
                        </div>
                    </div>

                    <div class="ingredient" data-ingredient="linkedin">
                        <div class="ingredient-header">
                            <div>
                                <div class="ingredient-name">LinkedIn Presence</div>
                                <div class="ingredient-desc">Company posts, employee content, and professional updates</div>
                            </div>
                            <div class="sentiment-thermometer" data-sentiment="neutral" onclick="cycleSentiment(event, 'linkedin')">
                                <div class="sentiment-faces">
                                    <span class="sentiment-face angry">ðŸ˜ </span>
                                    <span class="sentiment-face happy">ðŸ˜Š</span>
                                </div>
                                <div class="sentiment-slider"></div>
                            </div>
                        </div>
                    </div>

                    <div class="ingredient" data-ingredient="reviews">
                        <div class="ingredient-header">
                            <div>
                                <div class="ingredient-name">Reviews & Ratings</div>
                                <div class="ingredient-desc">Customer feedback from Google, Yelp, Trustpilot, and industry sites</div>
                            </div>
                            <div class="sentiment-thermometer" data-sentiment="neutral" onclick="cycleSentiment(event, 'reviews')">
                                <div class="sentiment-faces">
                                    <span class="sentiment-face angry">ðŸ˜ </span>
                                    <span class="sentiment-face happy">ðŸ˜Š</span>
                                </div>
                                <div class="sentiment-slider"></div>
                            </div>
                        </div>
                    </div>

                    <div class="ingredient" data-ingredient="wikipedia">
                        <div class="ingredient-header">
                            <div>
                                <div class="ingredient-name">Wikipedia Entry</div>
                                <div class="ingredient-desc">Public knowledge base and historical company information</div>
                            </div>
                            <div class="sentiment-thermometer" data-sentiment="neutral" onclick="cycleSentiment(event, 'wikipedia')">
                                <div class="sentiment-faces">
                                    <span class="sentiment-face angry">ðŸ˜ </span>
                                    <span class="sentiment-face happy">ðŸ˜Š</span>
                                </div>
                                <div class="sentiment-slider"></div>
                            </div>
                        </div>
                    </div>

                    <div class="ingredient" data-ingredient="reports">
                        <div class="ingredient-header">
                            <div>
                                <div class="ingredient-name">Industry Reports</div>
                                <div class="ingredient-desc">Market research, analyst reports, and competitive intelligence</div>
                            </div>
                            <div class="sentiment-thermometer" data-sentiment="neutral" onclick="cycleSentiment(event, 'reports')">
                                <div class="sentiment-faces">
                                    <span class="sentiment-face angry">ðŸ˜ </span>
                                    <span class="sentiment-face happy">ðŸ˜Š</span>
                                </div>
                                <div class="sentiment-slider"></div>
                            </div>
                        </div>
                    </div>

                    <div class="ingredient" data-ingredient="news">
                        <div class="ingredient-header">
                            <div>
                                <div class="ingredient-name">News & Media</div>
                                <div class="ingredient-desc">Press releases, media coverage, and industry news mentions</div>
                            </div>
                            <div class="sentiment-thermometer" data-sentiment="neutral" onclick="cycleSentiment(event, 'news')">
                                <div class="sentiment-faces">
                                    <span class="sentiment-face angry">ðŸ˜ </span>
                                    <span class="sentiment-face happy">ðŸ˜Š</span>
                                </div>
                                <div class="sentiment-slider"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="blender-container">
                    <div class="blender">
                        <div class="blender-jar">
                            <div class="jar-handle"></div>
                            <div class="jar-lid"></div>
                            <div class="blender-contents"></div>
                            <div class="blender-blade"></div>
                            <div class="floating-particles"></div>
                        </div>
                        <div class="blender-base">
                            <div class="control-dial"></div>
                        </div>
                    </div>
                    <button class="blend-button" onclick="blendIngredients()">Blend Brand Smoothie</button>
                </div>

                <div class="brand-smoothie-result">
                    <h2>ðŸ¥¤ Brand Smoothie Analysis</h2>
                    <div id="smoothie-analysis" class="smoothie-readout">
                        <p style="opacity: 0.6; font-style: italic;">Click blend to generate AI brand assessment...</p>
                    </div>
                </div>
            </div>
            
            <div class="bottom-section">
                <div class="optimization-section">
                    <h2>Optimization Insights</h2>
                    <div id="results-container">
                        <p style="opacity: 0.6; font-style: italic;">Select ingredients and blend to see optimization strategies...</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const ingredientData = {
            website: {
                name: "Company Website",
                impact: "immediate",
                timeline: "Hours to Days",
                optimization: {
                    positive: "Maintain current high-quality content, add fresh testimonials, optimize for conversions, and expand successful page formats to other sections.",
                    neutral: "Update meta descriptions, optimize page load speeds, refresh content with target keywords, and ensure mobile responsiveness. Focus on clear value propositions and strong calls-to-action.",
                    negative: "Urgent content audit needed. Remove outdated information, fix broken links, improve site navigation, and address user experience issues immediately. Consider professional redesign."
                },
                details: "Full control over content and immediate deployment capabilities make this your fastest optimization channel."
            },
            linkedin: {
                name: "LinkedIn Presence", 
                impact: "short-term",
                timeline: "1-4 Weeks",
                optimization: {
                    positive: "Amplify successful content themes, increase posting frequency during peak engagement times, and leverage employee advocacy to expand reach further.",
                    neutral: "Increase posting frequency, engage with industry conversations, optimize company page with keywords, and encourage employee advocacy. Share thought leadership content consistently.",
                    negative: "Crisis management mode: Address negative sentiment directly with professional responses, increase positive content volume, and consider temporary paid promotion of positive messages."
                },
                details: "Algorithm favors consistent engagement, but building momentum takes time to establish credibility and reach."
            },
            reviews: {
                name: "Reviews & Ratings",
                impact: "short-term", 
                timeline: "2-8 Weeks",
                optimization: {
                    positive: "Highlight positive reviews in marketing materials, thank satisfied customers publicly, and use testimonials as social proof across all channels.",
                    neutral: "Implement review request campaigns, respond professionally to all feedback, address negative reviews promptly, and incentivize satisfied customers to share experiences.",
                    negative: "Immediate damage control required. Respond to all negative reviews professionally, implement service improvements, launch targeted campaigns to encourage satisfied customers to review, and consider review management services."
                },
                details: "Customer response rates vary, but systematic approaches show measurable improvement within months."
            },
            wikipedia: {
                name: "Wikipedia Entry",
                impact: "long-term",
                timeline: "6 Months to 2 Years", 
                optimization: {
                    positive: "Maintain current positive coverage by ensuring continued notable achievements and reliable source citations. Monitor for vandalism and unauthorized changes.",
                    neutral: "Build notable citations and references, achieve significant media coverage, establish industry recognition, and work with experienced Wikipedia editors following their guidelines.",
                    negative: "Long-term reputation management needed. Focus on generating positive, notable coverage from reliable sources. Consider working with Wikipedia editors to ensure factual accuracy and neutral point of view."
                },
                details: "Requires meeting strict notability requirements and building substantial third-party references over time."
            },
            reports: {
                name: "Industry Reports",
                impact: "long-term",
                timeline: "3 Months to 1 Year",
                optimization: {
                    positive: "Leverage positive analyst mentions in sales materials, maintain analyst relationships, and continue providing valuable data for future reports.",
                    neutral: "Participate in industry surveys, build relationships with analysts, share relevant data for research, and position executives as thought leaders for interviews.",
                    negative: "Proactive analyst engagement required. Schedule briefings to address concerns, provide updated performance data, and work to influence next research cycle with improved metrics."
                },
                details: "Analyst research cycles are annual, requiring early engagement and consistent relationship building."
            },
            news: {
                name: "News & Media",
                impact: "short-term",
                timeline: "1-6 Weeks", 
                optimization: {
                    positive: "Capitalize on positive momentum with follow-up announcements, media interviews, and broader PR campaign amplification across all channels.",
                    neutral: "Develop newsworthy announcements, build media relationships, create compelling press releases, and respond quickly to industry trends and opportunities.",
                    negative: "Crisis communication protocol activated. Issue clarifying statements, engage with media directly, provide transparent updates, and consider hiring PR crisis management specialists."
                },
                details: "Media cycles move fast, but building reporter relationships and establishing news authority takes consistent effort."
            }
        };

        let selectedIngredients = [];
        let ingredientSentiments = {
            website: 'neutral',
            linkedin: 'neutral', 
            reviews: 'neutral',
            wikipedia: 'neutral',
            reports: 'neutral',
            news: 'neutral'
        };
        const brandAssessments = {
            excellent: {
                confidence: 95,
                tone: "highly positive",
                assessment: "BrandX emerges as a powerhouse of trust and market leadership. With overwhelmingly positive sentiment across all digital touchpoints, this organization demonstrates exceptional brand health and customer loyalty. The unified positive narrative from corporate communications to third-party validation suggests a brand that not only delivers on its promises but consistently exceeds expectations. This level of brand equity translates to premium pricing power, enhanced customer lifetime value, and significant competitive moats that protect market position."
            },
            strong: {
                confidence: 85,
                tone: "positive",
                assessment: "BrandX shows strong brand health with predominantly positive market perception. The company demonstrates solid execution across most brand touchpoints, building meaningful trust with stakeholders. While there may be minor areas for refinement, the overall brand narrative is compelling and authentic. This foundation positions BrandX well for growth initiatives and market expansion, with brand equity serving as a valuable asset for future strategic moves."
            },
            good: {
                confidence: 75,
                tone: "positive with caution",
                assessment: "BrandX presents a generally positive brand profile with room for strategic improvement. The mixed sentiment signals suggest a brand in transition - demonstrating clear strengths while addressing evolving market expectations. This presents both opportunity and urgency: capitalize on existing positive momentum while proactively addressing areas of concern before they impact broader brand perception. Strategic brand management is essential at this stage."
            },
            mixed: {
                confidence: 60,
                tone: "cautiously optimistic",
                assessment: "BrandX exhibits a complex brand landscape requiring careful navigation. The balanced mix of positive and negative sentiment indicates a brand at a crossroads - customer experiences vary significantly, suggesting inconsistent delivery or messaging. While this presents challenges, it also offers clear opportunities for differentiation through systematic brand experience improvements. Success will depend on prioritizing the most impactful interventions."
            },
            concerning: {
                confidence: 45,
                tone: "measured concern",
                assessment: "BrandX faces notable brand challenges that require immediate strategic attention. The prevalence of negative sentiment across key touchpoints suggests systematic issues affecting customer perception and trust. However, this assessment also reveals specific areas where targeted improvements can yield significant results. With proper crisis management and brand rehabilitation efforts, organizations can emerge stronger from these challenges."
            },
            critical: {
                confidence: 25,
                tone: "urgent intervention needed",
                assessment: "BrandX requires comprehensive brand rehabilitation and crisis management. The dominant negative sentiment indicates significant trust deficits and reputational challenges that threaten business continuity. While the situation is serious, it's not irreversible - many organizations have successfully rebuilt brand equity through transparent communication, systematic operational improvements, and sustained commitment to stakeholder value. This represents a fundamental business priority requiring executive-level focus and resources."
            }
        };

        function calculateBrandAssessment() {
            if (selectedIngredients.length === 0) return null;
            
            let positiveCount = 0;
            let negativeCount = 0;
            let neutralCount = 0;
            
            selectedIngredients.forEach(ingredient => {
                const sentiment = ingredientSentiments[ingredient];
                if (sentiment === 'positive') positiveCount++;
                else if (sentiment === 'negative') negativeCount++;
                else neutralCount++;
            });
            
            const total = selectedIngredients.length;
            const positiveRatio = positiveCount / total;
            const negativeRatio = negativeCount / total;
            
            // Determine assessment level based on ratios
            if (positiveRatio >= 0.9) return brandAssessments.excellent;
            else if (positiveRatio >= 0.7 && negativeRatio <= 0.1) return brandAssessments.strong;
            else if (positiveRatio >= 0.5 && negativeRatio <= 0.2) return brandAssessments.good;
            else if (negativeRatio <= 0.4) return brandAssessments.mixed;
            else if (negativeRatio <= 0.6) return brandAssessments.concerning;
            else return brandAssessments.critical;
        }

        function cycleSentiment(event, ingredient) {
            event.stopPropagation(); // Prevent ingredient selection when clicking thermometer
            
            const thermometer = event.currentTarget;
            const currentSentiment = thermometer.dataset.sentiment;
            
            let newSentiment;
            switch(currentSentiment) {
                case 'negative':
                    newSentiment = 'neutral';
                    break;
                case 'neutral':
                    newSentiment = 'positive';
                    break;
                case 'positive':
                    newSentiment = 'negative';
                    break;
            }
            
            thermometer.dataset.sentiment = newSentiment;
            ingredientSentiments[ingredient] = newSentiment;
            
            // Add a small pulse animation
            const slider = thermometer.querySelector('.sentiment-slider');
            slider.style.transform = 'translateY(-50%) scale(1.2)';
            setTimeout(() => {
                slider.style.transform = 'translateY(-50%) scale(1)';
            }, 150);
            
            updateBlenderColor();
        }

        // Add drag functionality for sliders
        function addDragFunctionality() {
            document.querySelectorAll('.sentiment-thermometer').forEach(thermometer => {
                const slider = thermometer.querySelector('.sentiment-slider');
                let isDragging = false;
                let startX = 0;
                
                slider.addEventListener('mousedown', (e) => {
                    isDragging = true;
                    startX = e.clientX;
                    e.preventDefault();
                    e.stopPropagation();
                });
                
                document.addEventListener('mousemove', (e) => {
                    if (!isDragging) return;
                    
                    const rect = thermometer.getBoundingClientRect();
                    const relativeX = e.clientX - rect.left;
                    const percentage = Math.max(0, Math.min(1, (relativeX - 15) / 90)); // Account for slider width and padding
                    
                    const ingredient = thermometer.closest('.ingredient').dataset.ingredient;
                    
                    // Determine sentiment based on position - REVERSED ORDER
                    let newSentiment;
                    if (percentage < 0.33) {
                        newSentiment = 'negative';  // Left side is now negative
                    } else if (percentage < 0.67) {
                        newSentiment = 'neutral';
                    } else {
                        newSentiment = 'positive';  // Right side is now positive
                    }
                    
                    if (newSentiment !== thermometer.dataset.sentiment) {
                        thermometer.dataset.sentiment = newSentiment;
                        ingredientSentiments[ingredient] = newSentiment;
                        updateBlenderColor();
                    }
                });
                
                document.addEventListener('mouseup', () => {
                    if (isDragging) {
                        isDragging = false;
                        const slider = thermometer.querySelector('.sentiment-slider');
                        slider.style.transform = 'translateY(-50%) scale(1)';
                    }
                });
                
                // Touch events for mobile
                slider.addEventListener('touchstart', (e) => {
                    isDragging = true;
                    startX = e.touches[0].clientX;
                    e.preventDefault();
                    e.stopPropagation();
                });
                
                document.addEventListener('touchmove', (e) => {
                    if (!isDragging) return;
                    
                    const rect = thermometer.getBoundingClientRect();
                    const relativeX = e.touches[0].clientX - rect.left;
                    const percentage = Math.max(0, Math.min(1, (relativeX - 15) / 90));
                    
                    const ingredient = thermometer.closest('.ingredient').dataset.ingredient;
                    
                    let newSentiment;
                    if (percentage < 0.33) {
                        newSentiment = 'negative';  // Left side is now negative
                    } else if (percentage < 0.67) {
                        newSentiment = 'neutral';
                    } else {
                        newSentiment = 'positive';  // Right side is now positive
                    }
                    
                    if (newSentiment !== thermometer.dataset.sentiment) {
                        thermometer.dataset.sentiment = newSentiment;
                        ingredientSentiments[ingredient] = newSentiment;
                        updateBlenderColor();
                    }
                });
                
                document.addEventListener('touchend', () => {
                    if (isDragging) {
                        isDragging = false;
                        const slider = thermometer.querySelector('.sentiment-slider');
                        slider.style.transform = 'translateY(-50%) scale(1)';
                    }
                });
            });
        }

        function updateBlenderColor() {
            const contents = document.querySelector('.blender-contents');
            
            if (selectedIngredients.length === 0) {
                contents.style.background = 'linear-gradient(45deg, #00d4ff, #4ecdc4)';
                return;
            }
            
            // Calculate overall sentiment
            let positiveCount = 0;
            let negativeCount = 0;
            
            selectedIngredients.forEach(ingredient => {
                const sentiment = ingredientSentiments[ingredient];
                if (sentiment === 'positive') positiveCount++;
                if (sentiment === 'negative') negativeCount++;
            });
            
            const totalSelected = selectedIngredients.length;
            const positiveRatio = positiveCount / totalSelected;
            const negativeRatio = negativeCount / totalSelected;
            
            if (positiveRatio > 0.5) {
                contents.style.background = 'linear-gradient(45deg, #4ecdc4, #7dd3db)';
            } else if (negativeRatio > 0.5) {
                contents.style.background = 'linear-gradient(45deg, #ff6b6b, #ff8e8e)';
            } else {
                contents.style.background = 'linear-gradient(45deg, #ffd93d, #ffeb7a)';
            }
        }

        // Ingredient selection
        document.querySelectorAll('.ingredient').forEach(ingredient => {
            ingredient.addEventListener('click', function(event) {
                // Don't select if clicking on thermometer
                if (event.target.closest('.sentiment-thermometer')) {
                    return;
                }
                
                const type = this.dataset.ingredient;
                
                if (this.classList.contains('selected')) {
                    this.classList.remove('selected');
                    selectedIngredients = selectedIngredients.filter(item => item !== type);
                    updateCounter(this, false);
                } else {
                    this.classList.add('selected');
                    selectedIngredients.push(type);
                    updateCounter(this, true);
                }
                
                updateBlenderContents();
                updateBlenderColor();
            });
        });

        function updateCounter(element, add) {
            let counter = element.querySelector('.ingredient-counter');
            if (add && !counter) {
                counter = document.createElement('div');
                counter.className = 'ingredient-counter';
                counter.textContent = 'âœ“';
                element.appendChild(counter);
            } else if (!add && counter) {
                counter.remove();
            }
        }

        function updateBlenderContents() {
            const contents = document.querySelector('.blender-contents');
            const height = (selectedIngredients.length / 6) * 200; // Max 200px height
            contents.style.height = height + 'px';
        }

        function blendIngredients() {
            const analysisDiv = document.getElementById('smoothie-analysis');
            
            if (!analysisDiv) {
                alert('Analysis div not found!');
                return;
            }
            
            // Calculate sentiment based on selected ingredients and their slider positions
            let totalSentiment = 0;
            let ingredientCount = 0;
            let sentimentDetails = [];
            
            // Check all ingredients (selected or not) and their sentiment settings
            Object.keys(ingredientSentiments).forEach(ingredient => {
                const ingredientElement = document.querySelector(`[data-ingredient="${ingredient}"]`);
                if (ingredientElement && ingredientElement.classList.contains('selected')) {
                    const sentiment = ingredientSentiments[ingredient];
                    let sentimentValue = 0;
                    
                    if (sentiment === 'positive') sentimentValue = 1;
                    else if (sentiment === 'neutral') sentimentValue = 0;
                    else if (sentiment === 'negative') sentimentValue = -1;
                    
                    totalSentiment += sentimentValue;
                    ingredientCount++;
                    sentimentDetails.push(`${ingredient}: ${sentiment}`);
                }
            });
            
            // Default to neutral if no ingredients selected
            if (ingredientCount === 0) {
                totalSentiment = 0;
                ingredientCount = 1;
                sentimentDetails.push('No ingredients selected - showing neutral assessment');
            }
            
            const averageSentiment = totalSentiment / ingredientCount;
            
            // Generate assessment based on actual sentiment
            let assessment, confidence, confidenceColor;
            
            if (averageSentiment >= 0.7) {
                // Highly Positive
                assessment = `BrandX emerges as a market leader with exceptional brand equity and customer loyalty. With overwhelmingly positive sentiment across ${ingredientCount} key digital touchpoints, this organization demonstrates outstanding brand health that translates to premium pricing power, enhanced customer lifetime value, and significant competitive advantages. The unified positive narrative suggests a brand that consistently exceeds expectations and builds meaningful relationships with stakeholders.`;
                confidence = 92;
                confidenceColor = '#4ecdc4';
            } else if (averageSentiment >= 0.3) {
                // Positive
                assessment = `BrandX shows strong brand performance with predominantly positive market perception across ${ingredientCount} analyzed touchpoints. The company demonstrates solid execution in brand management, building meaningful trust with customers and stakeholders. This strong foundation positions BrandX well for growth initiatives and market expansion, with brand equity serving as a valuable strategic asset.`;
                confidence = 85;
                confidenceColor = '#4ecdc4';
            } else if (averageSentiment >= -0.2) {
                // Neutral/Mixed
                assessment = `BrandX presents a balanced brand profile across ${ingredientCount} key channels, with mixed sentiment indicating both opportunities and areas for improvement. The varied feedback suggests a brand in transition, demonstrating clear strengths while addressing evolving market expectations. Strategic brand management initiatives could significantly improve overall perception and market positioning.`;
                confidence = 72;
                confidenceColor = '#ffd93d';
            } else if (averageSentiment >= -0.6) {
                // Negative
                assessment = `BrandX faces notable brand challenges across ${ingredientCount} analyzed touchpoints that require immediate strategic attention. The prevalence of negative sentiment indicates systematic issues affecting customer perception and trust. However, with targeted crisis management and brand rehabilitation efforts, the organization can address these challenges and rebuild brand equity through transparent communication and operational improvements.`;
                confidence = 58;
                confidenceColor = '#ff6b6b';
            } else {
                // Highly Negative
                assessment = `BrandX requires comprehensive brand rehabilitation and crisis management across all ${ingredientCount} analyzed channels. The dominant negative sentiment indicates significant trust deficits and reputational challenges that demand executive-level focus and resources. While serious, this situation is recoverable through systematic operational improvements, transparent stakeholder communication, and sustained commitment to rebuilding brand value.`;
                confidence = 34;
                confidenceColor = '#ff6b6b';
            }
            
            // Show the analysis with actual sentiment mapping
            analysisDiv.innerHTML = `
                <div style="background: rgba(0,212,255,0.1); padding: 20px; border-radius: 10px; border-left: 4px solid #00d4ff;">
                    <h3 style="color: #00d4ff; margin-bottom: 15px;">ðŸ¤– AI Brand Definition</h3>
                    <div style="background: rgba(255,255,255,0.05); padding: 18px; border-radius: 8px; font-size: 1rem; line-height: 1.6; margin-bottom: 15px;">
                        ${assessment}
                    </div>
                    <div style="font-size: 0.85rem; opacity: 0.8; margin-bottom: 15px;">
                        <strong>Analysis based on:</strong> ${sentimentDetails.join(', ')}
                    </div>
                    <div style="display: flex; align-items: center; gap: 15px;">
                        <div style="flex: 1; height: 8px; background: rgba(255,255,255,0.1); border-radius: 4px;">
                            <div style="height: 100%; width: ${confidence}%; background: ${confidenceColor}; border-radius: 4px; transition: width 1s ease;"></div>
                        </div>
                        <div style="font-weight: 600; color: ${confidenceColor};">AI Confidence: ${confidence}%</div>
                    </div>
                    <div style="margin-top: 10px; font-size: 0.8rem; opacity: 0.7;">
                        Average Sentiment Score: ${averageSentiment.toFixed(2)} (-1.0 = Very Negative, 0 = Neutral, +1.0 = Very Positive)
                    </div>
                </div>
            `;
            
            analysisDiv.style.display = 'block';
            analysisDiv.style.opacity = '1';
            
            // Show detailed optimization insights
            showOptimizationInsights();
        }

        function showOptimizationInsights() {
            const container = document.getElementById('results-container');
            container.innerHTML = '';
            
            if (selectedIngredients.length === 0) {
                container.innerHTML = '<p style="opacity: 0.6; font-style: italic;">Select ingredients and blend to see optimization strategies...</p>';
                return;
            }
            
            selectedIngredients.forEach((ingredient, index) => {
                const data = ingredientData[ingredient];
                const sentiment = ingredientSentiments[ingredient];
                const optimization = data.optimization[sentiment];
                
                const resultDiv = document.createElement('div');
                resultDiv.className = 'result-item';
                
                const sentimentLabel = sentiment.charAt(0).toUpperCase() + sentiment.slice(1);
                const sentimentClass = sentiment === 'positive' ? 'immediate' : sentiment === 'neutral' ? 'short-term' : 'long-term';
                
                resultDiv.innerHTML = `
                    <div class="result-header">
                        <div class="result-title">${data.name}</div>
                        <div class="impact-badge ${data.impact}">${data.impact.replace('-', ' ')}</div>
                    </div>
                    <div class="result-content">
                        <div class="timeline">
                            <div class="timeline-icon"></div>
                            <strong>Timeline:</strong> ${data.timeline}
                        </div>
                        <div class="timeline" style="margin-top: 8px;">
                            <div class="timeline-icon ${sentimentClass}"></div>
                            <strong>Current Sentiment:</strong> ${sentimentLabel}
                        </div>
                    </div>
                    <div class="optimization-tip">
                        <strong>Optimization Strategy:</strong> ${optimization}
                        <br><br>
                        <em>${data.details}</em>
                    </div>
                `;
                
                container.appendChild(resultDiv);
                
                // Animate in
                setTimeout(() => {
                    resultDiv.classList.add('show');
                }, index * 200);
            });
        }

        function forceShowAssessment() {
            console.log('Force showing assessment');
            const analysisContainer = document.getElementById('smoothie-analysis');
            
            if (!analysisContainer) {
                console.error('Analysis container not found!');
                return;
            }
            
            // Create a test assessment if no ingredients selected
            let testAssessment = {
                confidence: 75,
                assessment: "BrandX demonstrates a balanced brand profile with strong fundamentals and clear opportunities for strategic enhancement. The mixed sentiment across touchpoints suggests a brand in active evolution, showing both established strengths and areas primed for optimization. This foundation positions BrandX well for targeted improvements that can significantly elevate brand perception and market positioning."
            };
            
            // Use real assessment if ingredients are selected
            if (selectedIngredients.length > 0) {
                const realAssessment = calculateBrandAssessment();
                if (realAssessment) {
                    testAssessment = realAssessment;
                }
            }
            
            console.log('Using assessment:', testAssessment);
            
            // Determine sentiment class
            let sentimentClass = 'mixed';
            if (testAssessment.confidence >= 80) sentimentClass = 'positive';
            else if (testAssessment.confidence <= 50) sentimentClass = 'negative';
            
            // Set the HTML directly
            analysisContainer.innerHTML = `
                <div class="ai-brand-definition">
                    <h3>ðŸ¤– AI Brand Definition</h3>
                    <div class="brand-statement">${testAssessment.assessment}</div>
                </div>
                <div class="brand-confidence-meter">
                    <div class="confidence-bar">
                        <div class="confidence-fill"></div>
                    </div>
                    <div class="confidence-label">AI Confidence: ${testAssessment.confidence}%</div>
                </div>
            `;
            
            // Apply styling
            analysisContainer.className = `smoothie-readout ${sentimentClass} show`;
            
            // Animate confidence bar
            setTimeout(() => {
                const confidenceFill = analysisContainer.querySelector('.confidence-fill');
                if (confidenceFill) {
                    confidenceFill.style.width = testAssessment.confidence + '%';
                    console.log('Confidence bar animated to:', testAssessment.confidence + '%');
                }
            }, 100);
            
            console.log('Assessment display completed');
        }

        function createEnhancedParticles() {
            const container = document.querySelector('.floating-particles');
            container.innerHTML = '';
            
            // Create more particles with varied sizes and colors
            for (let i = 0; i < 35; i++) {
                setTimeout(() => {
                    const particle = document.createElement('div');
                    particle.className = 'particle';
                    
                    // Vary particle size and color based on selected ingredients
                    const size = Math.random() * 6 + 2; // 2-8px
                    const colors = ['#00d4ff', '#4ecdc4', '#ffd93d', '#ff6b6b'];
                    const selectedColor = colors[Math.floor(Math.random() * colors.length)];
                    
                    particle.style.width = size + 'px';
                    particle.style.height = size + 'px';
                    particle.style.background = selectedColor;
                    particle.style.left = (Math.random() * 80 + 10) + '%'; // Keep particles more centered
                    particle.style.animationDelay = Math.random() * 500 + 'ms';
                    particle.style.animation = `particleFloat ${Math.random() * 1 + 1.5}s linear`;
                    particle.style.boxShadow = `0 0 ${size*2}px ${selectedColor}`;
                    
                    container.appendChild(particle);
                    
                    setTimeout(() => particle.remove(), 2500);
                }, i * 80);
            }
        }

        // Enhanced particle animation
        const style = document.createElement('style');
        style.textContent = `
            @keyframes particleFloat {
                0% { 
                    transform: translateY(20px) scale(0.5); 
                    opacity: 0; 
                }
                20% { 
                    opacity: 1; 
                    transform: translateY(0px) scale(1);
                }
                80% { 
                    opacity: 0.8; 
                    transform: translateY(-80px) scale(0.8);
                }
                100% { 
                    transform: translateY(-120px) scale(0.3); 
                    opacity: 0; 
                }
            }
        `;
        document.head.appendChild(style);

        function showResults() {
            // Show brand smoothie analysis first
            showBrandAssessment();
            
            // Then show individual optimization insights
            const container = document.getElementById('results-container');
            container.innerHTML = '';
            
            selectedIngredients.forEach((ingredient, index) => {
                const data = ingredientData[ingredient];
                const sentiment = ingredientSentiments[ingredient];
                const optimization = data.optimization[sentiment];
                
                const resultDiv = document.createElement('div');
                resultDiv.className = 'result-item';
                
                const sentimentLabel = sentiment.charAt(0).toUpperCase() + sentiment.slice(1);
                const sentimentClass = sentiment === 'positive' ? 'immediate' : sentiment === 'neutral' ? 'short-term' : 'long-term';
                
                resultDiv.innerHTML = `
                    <div class="result-header">
                        <div class="result-title">${data.name}</div>
                        <div class="impact-badge ${data.impact}">${data.impact.replace('-', ' ')}</div>
                    </div>
                    <div class="result-content">
                        <div class="timeline">
                            <div class="timeline-icon"></div>
                            <strong>Timeline:</strong> ${data.timeline}
                        </div>
                        <div class="timeline" style="margin-top: 8px;">
                            <div class="timeline-icon ${sentimentClass}"></div>
                            <strong>Current Sentiment:</strong> ${sentimentLabel}
                        </div>
                    </div>
                    <div class="optimization-tip">
                        <strong>Optimization Strategy:</strong> ${optimization}
                        <br><br>
                        <em>${data.details}</em>
                    </div>
                `;
                
                container.appendChild(resultDiv);
                
                // Animate in
                setTimeout(() => {
                    resultDiv.classList.add('show');
                }, (index * 200) + 1000); // Delay after brand assessment
            });
        }

        function showBrandAssessment() {
            const assessment = calculateBrandAssessment();
            const analysisContainer = document.getElementById('smoothie-analysis');
            
            if (!assessment) {
                analysisContainer.innerHTML = '<p style="opacity: 0.6; font-style: italic;">Select ingredients and set their sentiment, then blend to generate AI brand assessment...</p>';
                analysisContainer.className = 'smoothie-readout';
                return;
            }
            
            // Determine overall sentiment class
            let sentimentClass = 'mixed';
            if (assessment.confidence >= 80) sentimentClass = 'positive';
            else if (assessment.confidence <= 50) sentimentClass = 'negative';
            
            analysisContainer.innerHTML = `
                <div class="ai-brand-definition">
                    <h3>ðŸ¤– AI Brand Definition</h3>
                    <div class="brand-statement">${assessment.assessment}</div>
                </div>
                <div class="brand-confidence-meter">
                    <div class="confidence-bar">
                        <div class="confidence-fill"></div>
                    </div>
                    <div class="confidence-label">AI Confidence: ${assessment.confidence}%</div>
                </div>
            `;
            
            // Add sentiment styling
            analysisContainer.className = `smoothie-readout ${sentimentClass}`;
            
            // Animate in
            setTimeout(() => {
                analysisContainer.classList.add('show');
                // Animate confidence bar
                const confidenceFill = analysisContainer.querySelector('.confidence-fill');
                if (confidenceFill) {
                    setTimeout(() => {
                        confidenceFill.style.width = assessment.confidence + '%';
                    }, 500);
                }
            }, 500);
        }

        let isBlending = false;

        // Initialize with some visual flair
        window.addEventListener('load', () => {
            document.body.style.opacity = '0';
            document.body.style.transition = 'opacity 0.5s ease';
            setTimeout(() => {
                document.body.style.opacity = '1';
                // Initialize drag functionality after load
                addDragFunctionality();
            }, 100);
        });
    </script>
</body>
</html>