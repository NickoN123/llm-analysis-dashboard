<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Premium Store Brand Alternatives</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #0a0e1a;
            color: #e0e0e0;
            line-height: 1.6;
        }

        .container {
            max-width: 1600px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 50px;
            padding-bottom: 30px;
            border-bottom: 2px solid #00d4ff;
        }

        .main-title {
            font-size: 2.8em;
            font-weight: 600;
            color: #00d4ff;
            margin-bottom: 15px;
            letter-spacing: -0.5px;
        }

        .main-subtitle {
            font-size: 1.2em;
            color: #a0a0a0;
            margin-bottom: 10px;
        }

        .powered-by {
            font-size: 0.95em;
            color: #00d4ff;
            margin-top: 10px;
            font-weight: 500;
        }

        .search-container {
            background: rgba(0, 212, 255, 0.05);
            padding: 25px;
            border-radius: 8px;
            margin-bottom: 30px;
            border: 1px solid rgba(0, 212, 255, 0.2);
        }

        .search-input {
            width: 100%;
            padding: 12px 20px;
            font-size: 1em;
            background: #0f1419;
            border: 2px solid #00d4ff;
            border-radius: 6px;
            color: #e0e0e0;
            font-family: 'Segoe UI', sans-serif;
            margin-bottom: 15px;
            transition: all 0.3s ease;
        }

        .search-input:focus {
            outline: none;
            background: #151b24;
            box-shadow: 0 0 10px rgba(0, 212, 255, 0.3);
        }

        .search-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 10px;
        }

        .clear-search {
            padding: 8px 20px;
            background: #1a2332;
            border: 1px solid #00d4ff;
            color: #00d4ff;
            border-radius: 6px;
            cursor: pointer;
            font-family: 'Segoe UI', sans-serif;
            font-size: 0.95em;
            transition: all 0.3s ease;
        }

        .clear-search:hover {
            background: #00d4ff;
            color: #0a0e1a;
        }

        .search-results-info {
            color: #00d4ff;
            font-size: 0.95em;
            font-weight: 500;
        }

        .brand-bar {
            background: rgba(0, 212, 255, 0.05);
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 30px;
            border: 1px solid rgba(0, 212, 255, 0.2);
        }

        .brand-bar h3 {
            color: #00d4ff;
            font-size: 1.1em;
            margin-bottom: 15px;
            font-weight: 500;
        }

        .brand-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            align-items: center;
        }

        .brand-btn {
            padding: 8px 16px;
            background: #1a2332;
            border: 1px solid #2a3f5f;
            color: #e0e0e0;
            border-radius: 6px;
            cursor: pointer;
            font-family: 'Segoe UI', sans-serif;
            font-size: 0.9em;
            transition: all 0.3s ease;
            white-space: nowrap;
        }

        .brand-btn:hover {
            background: #2a3f5f;
            border-color: #00d4ff;
        }

        .brand-btn-active {
            background: #00d4ff;
            color: #0a0e1a;
            border-color: #00d4ff;
            font-weight: 600;
        }

        .brand-clear {
            padding: 8px 16px;
            background: #8b2626;
            border: 1px solid #c73636;
            color: #ffffff;
            border-radius: 6px;
            cursor: pointer;
            font-family: 'Segoe UI', sans-serif;
            font-size: 0.9em;
            transition: all 0.3s ease;
            margin-left: 10px;
        }

        .brand-clear:hover {
            background: #c73636;
        }

        .category-section {
            margin-bottom: 50px;
        }

        .category-header {
            background: linear-gradient(135deg, #1a2332 0%, #0f1419 100%);
            padding: 20px 25px;
            border-radius: 8px 8px 0 0;
            border-left: 4px solid #00d4ff;
        }

        .category-header h2 {
            color: #00d4ff;
            font-size: 1.6em;
            font-weight: 600;
            margin-bottom: 8px;
        }

        .category-stats {
            color: #a0a0a0;
            font-size: 0.95em;
        }

        .table-container {
            overflow-x: auto;
            background: #0f1419;
            border-radius: 0 0 8px 8px;
            border: 1px solid #1a2332;
        }

        .data-table {
            width: 100%;
            border-collapse: collapse;
        }

        .data-table th {
            background: #1a2332;
            color: #00d4ff;
            padding: 15px;
            text-align: left;
            font-weight: 600;
            font-size: 0.95em;
            border-bottom: 2px solid #00d4ff;
            position: sticky;
            top: 0;
            z-index: 10;
        }

        .data-table td {
            padding: 15px;
            border-bottom: 1px solid #1a2332;
            font-size: 0.9em;
        }

        .data-table tr:hover {
            background: rgba(0, 212, 255, 0.05);
        }

        .data-table tr:nth-child(even) {
            background: rgba(255, 255, 255, 0.02);
        }

        .data-table tr:nth-child(even):hover {
            background: rgba(0, 212, 255, 0.08);
        }

        .prompt-cell {
            background: linear-gradient(135deg, #1a2332 0%, #151b24 100%);
            font-weight: 600;
            color: #ffffff;
            border-left: 4px solid #00d4ff;
            max-width: 400px;
            min-width: 300px;
        }

        .llm-response {
            color: #c0c0c0;
            min-width: 150px;
        }

        .highlight {
            background: #00d4ff;
            color: #0a0e1a;
            padding: 2px 4px;
            border-radius: 3px;
            font-weight: 600;
        }

        .analysis-section {
            background: linear-gradient(135deg, #1a2332 0%, #0f1419 100%);
            padding: 35px;
            border-radius: 8px;
            margin-bottom: 40px;
            border: 1px solid rgba(0, 212, 255, 0.3);
        }

        .analysis-title {
            color: #00d4ff;
            font-size: 2em;
            font-weight: 600;
            margin-bottom: 25px;
            text-align: center;
        }

        .insights-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        .insight-card {
            background: rgba(0, 212, 255, 0.05);
            padding: 20px;
            border-radius: 6px;
            border-left: 4px solid #00d4ff;
        }

        .insight-card h3 {
            color: #00d4ff;
            font-size: 1.2em;
            margin-bottom: 12px;
            font-weight: 500;
        }

        .insight-card p {
            color: #c0c0c0;
            line-height: 1.8;
        }

        .brand-spotlight {
            background: linear-gradient(135deg, #1a1f2e 0%, #0f1419 100%);
            padding: 35px;
            border-radius: 8px;
            margin-bottom: 40px;
            border: 2px solid #ff9500;
            box-shadow: 0 4px 20px rgba(255, 149, 0, 0.15);
        }

        .spotlight-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 2px solid #ff9500;
        }

        .spotlight-badge {
            background: #ff9500;
            color: #0a0e1a;
            padding: 8px 16px;
            border-radius: 6px;
            font-size: 0.85em;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .spotlight-title {
            color: #ff9500;
            font-size: 1.8em;
            font-weight: 600;
            flex-grow: 1;
        }

        .spotlight-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-bottom: 25px;
        }

        .spotlight-card {
            background: rgba(255, 149, 0, 0.05);
            padding: 20px;
            border-radius: 6px;
            border-left: 4px solid #ff9500;
        }

        .spotlight-card h4 {
            color: #ff9500;
            font-size: 1.1em;
            margin-bottom: 10px;
            font-weight: 600;
        }

        .spotlight-card p {
            color: #c0c0c0;
            line-height: 1.7;
            font-size: 0.95em;
        }

        .spotlight-card ul {
            color: #c0c0c0;
            line-height: 1.8;
            font-size: 0.95em;
            margin-left: 20px;
            margin-top: 8px;
        }

        .spotlight-summary {
            background: rgba(255, 149, 0, 0.08);
            padding: 20px;
            border-radius: 6px;
            border-left: 4px solid #ff9500;
        }

        .spotlight-summary p {
            color: #e0e0e0;
            line-height: 1.8;
            font-size: 1.05em;
            margin-bottom: 10px;
        }

        .spotlight-summary strong {
            color: #ff9500;
        }

        .about-section {
            background: linear-gradient(135deg, #0f1419 0%, #1a2332 100%);
            padding: 35px;
            border-radius: 8px;
            border: 1px solid rgba(0, 212, 255, 0.3);
        }

        .about-title {
            color: #00d4ff;
            font-size: 2em;
            font-weight: 600;
            margin-bottom: 20px;
            text-align: center;
        }

        .about-section p {
            color: #c0c0c0;
            line-height: 1.8;
            font-size: 1.05em;
            max-width: 900px;
            margin: 0 auto 15px;
        }

        @media (max-width: 768px) {
            .main-title {
                font-size: 2em;
            }

            .container {
                padding: 20px 10px;
            }

            .data-table th,
            .data-table td {
                padding: 10px;
                font-size: 0.85em;
            }

            .prompt-cell {
                min-width: 200px;
            }

            .brand-buttons {
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1 class="main-title">Premium Store Brand Alternatives</h1>
            <p class="main-subtitle">What premium store-brand products are good substitutes for gourmet foods</p>
            <p class="powered-by">Powered by BrandRank.AI</p>
        </div>

        <div class="search-container">
            <input type="text" id="searchInput" class="search-input" placeholder="Search across all prompts and responses...">
            <div class="search-controls">
                <button id="clearSearch" class="clear-search">Clear Search</button>
                <span id="searchResults" class="search-results-info"></span>
            </div>
        </div>

        <div id="brandBar" class="brand-bar" style="display:none;">
            <h3>Top Brands by Mentions</h3>
            <div id="brandButtons" class="brand-buttons"></div>
        </div>

        <div id="categoriesContainer"></div>

        <div class="analysis-section">
            <h2 class="analysis-title">Analysis & Insights</h2>
            <div class="insights-grid">
                <div class="insight-card">
                    <h3>Key Insights</h3>
                    <p>Trader Joe's dominates the premium store-brand conversation, appearing in 71% of all LLM responses across categories. This exceptional visibility positions Trader Joe's as the default recommendation for gourmet store-brand alternatives.</p>
                </div>
                <div class="insight-card">
                    <h3>Consensus Levels</h3>
                    <p><strong>High Agreement:</strong> Trader Joe's consistently receives unanimous or near-unanimous recommendations for frozen foods, appetizers, and gourmet flavors. <strong>Medium Agreement:</strong> Costco Kirkland Signature and Whole Foods 365 show strong secondary presence. <strong>Low Agreement:</strong> Regional brands like Wegmans and Publix receive scattered mentions.</p>
                </div>
                <div class="insight-card">
                    <h3>Risk Profiles</h3>
                    <p>National brands like H√§agen-Dazs, Starbucks, and Lindt occasionally appear in premium categories, indicating potential confusion between national premium brands and private-label alternatives. Aldi's Specially Selected line emerges as a strong value-premium contender but lacks consistent recognition across all LLMs.</p>
                </div>
                <div class="insight-card">
                    <h3>Model Divergences</h3>
                    <p>While Trader Joe's achieves cross-model consensus, divergences appear in regional preferences (Wegmans for Northeast contexts) and value-premium trade-offs (Aldi vs. Whole Foods). Claude and Perplexity show slightly higher diversity in recommendations, while ChatGPT and Llama display stronger brand concentration.</p>
                </div>
            </div>
        </div>

        <div class="brand-spotlight">
            <div class="spotlight-header">
                <span class="spotlight-badge">Brand Spotlight</span>
                <h2 class="spotlight-title">Kroger Private Selection Deep Dive</h2>
            </div>

            <div class="spotlight-grid">
                <div class="spotlight-card">
                    <h4>üìä Visibility Status</h4>
                    <p><strong>8 total mentions</strong> across the dataset</p>
                    <ul>
                        <li>Mid-tier visibility vs. Trader Joe's (43+) and Whole Foods 365 (20+)</li>
                        <li>Strongest with <strong>Gemini</strong> (5 mentions)</li>
                        <li><strong>Zero recognition</strong> from Claude, Llama, Perplexity</li>
                    </ul>
                </div>

                <div class="spotlight-card">
                    <h4>üí™ Category Strengths</h4>
                    <p>Performs well in:</p>
                    <ul>
                        <li>Gourmet pantry staples & premium sauces</li>
                        <li>Upscale meal prep & easy dinners</li>
                        <li>Entertaining crackers & breads</li>
                    </ul>
                    <p style="margin-top: 10px;">Absent from indulgence, dessert, and appetizer categories</p>
                </div>

                <div class="spotlight-card">
                    <h4>üéØ Strategic Position</h4>
                    <p><strong>"Mainstream Accessible Premium"</strong></p>
                    <ul>
                        <li>Competes on convenience vs. specialty chains</li>
                        <li>Value proposition against Whole Foods</li>
                        <li>Lacks membership exclusivity of Costco</li>
                    </ul>
                </div>

                <div class="spotlight-card">
                    <h4>‚ö†Ô∏è Key Risks</h4>
                    <ul>
                        <li><strong>Awareness gap:</strong> 50% of LLMs show zero recognition</li>
                        <li><strong>Regional limitation:</strong> Kroger footprint vs. national brands</li>
                        <li><strong>Name inconsistency:</strong> "Private Selection" vs. "Kroger Private Selection"</li>
                        <li><strong>Category gaps:</strong> Missing from premium desserts & indulgence</li>
                    </ul>
                </div>
            </div>

            <div class="spotlight-summary">
                <p><strong>Bottom Line:</strong> Private Selection shows promising niche positioning in gourmet meal solutions but suffers from significant visibility deficits compared to category leaders like Trader Joe's and Whole Foods 365. The brand needs aggressive AI visibility building‚Äîespecially with Claude, Llama, and Perplexity‚Äîplus category expansion into indulgence items and standardized naming to compete effectively in the premium store-brand conversation.</p>
                <p><strong>Recommended Focus:</strong> Leverage Gemini's consistent advocacy, own the "premium at your regular grocery store" positioning, and create authoritative digital content that helps AI models better recognize Private Selection as a premium leader.</p>
            </div>
        </div>

        <div class="about-section">
            <h2 class="about-title">About BrandRank</h2>
            <p>BrandRank is the intelligence layer for the AI search era.</p>
            <p>We help brands measure, protect, and grow trust by monitoring how they appear across major AI Answer Engines.</p>
            <p>By combining advanced AI with expert insight, BrandRank identifies vulnerabilities and opportunities, pinpoints the factors driving consumer choice, and reveals pathways to strengthen brand equity and loyalty.</p>
            <p>Our mission is to ensure that when consumers ask questions in AI-powered platforms, your brand is represented clearly, accurately, and with authority.</p>
        </div>
    </div>

    <script>
        window.WINDOW_DATA = {
            title: "Premium Store Brand Alternatives",
            subtitle: "What premium store-brand products are good substitutes for gourmet foods",
            llms: ["ChatGPT", "Claude", "Gemini", "Llama", "Perplexity", "Grok"],
            categories: [
                {
                    name: "Premium Store Brand Alternatives",
                    prompts: [
                        {
                            question: "What premium store-brand products are good substitutes for gourmet foods",
                            responses: {
                                "ChatGPT": "Whole Foods 365",
                                "Claude": "Trader Joe's",
                                "Gemini": "Private Selection (Kroger)",
                                "Llama": "Trader Joe's",
                                "Perplexity": "Trader Joe's",
                                "Grok": "Trader Joe's"
                            }
                        },
                        {
                            question: "Which supermarket private labels offer upscale items comparable to specialty brands",
                            responses: {
                                "ChatGPT": "Whole Foods 365",
                                "Claude": "Costco Kirkland Signature",
                                "Gemini": "Wegmans Brand",
                                "Llama": "Whole Foods 365",
                                "Perplexity": "The Fresh Market / Whole Foods 365",
                                "Grok": "Whole Foods 365"
                            }
                        },
                        {
                            question: "What private-label foods taste like something from a high-end grocery store",
                            responses: {
                                "ChatGPT": "Trader Joe's",
                                "Claude": "Trader Joe's",
                                "Gemini": "Aldi Specially Selected",
                                "Llama": "Costco Kirkland Signature",
                                "Perplexity": "Trader Joe's",
                                "Grok": "Kroger Private Selection"
                            }
                        },
                        {
                            question: "Which store-brand products are known for being surprisingly gourmet",
                            responses: {
                                "ChatGPT": "Trader Joe's",
                                "Claude": "Aldi Specially Selected",
                                "Gemini": "Trader Joe's",
                                "Llama": "Trader Joe's",
                                "Perplexity": "Aldi SimplyNature",
                                "Grok": "Aldi Specially Selected"
                            }
                        },
                        {
                            question: "What elevated store-brand options are worth trying in the frozen aisle",
                            responses: {
                                "ChatGPT": "Trader Joe's",
                                "Claude": "Trader Joe's",
                                "Gemini": "Trader Joe's",
                                "Llama": "Costco Kirkland Signature",
                                "Perplexity": "The Fresh Market / Whole Foods 365",
                                "Grok": "Aldi Specially Selected"
                            }
                        },
                        {
                            question: "Which premium private-label snacks compete with artisanal brands",
                            responses: {
                                "ChatGPT": "Trader Joe's",
                                "Claude": "Whole Foods 365",
                                "Gemini": "Good & Gather (Target)",
                                "Llama": "Trader Joe's",
                                "Perplexity": "Trader Joe's",
                                "Grok": "Trader Joe's"
                            }
                        }
                    ]
                },
                {
                    name: "Upscale Experiences on a Budget",
                    prompts: [
                        {
                            question: "What supermarket products make it easy to create a restaurant-style meal at home",
                            responses: {
                                "ChatGPT": "Trader Joe's",
                                "Claude": "Trader Joe's",
                                "Gemini": "Private Selection",
                                "Llama": "Costco Kirkland Signature",
                                "Perplexity": "Trader Joe's / Whole Foods 365",
                                "Grok": "Trader Joe's"
                            }
                        },
                        {
                            question: "Which affordable foods feel like they came from a chef-driven marketplace",
                            responses: {
                                "ChatGPT": "Whole Foods 365",
                                "Claude": "Aldi Specially Selected",
                                "Gemini": "Wegmans Brand",
                                "Llama": "Whole Foods 365",
                                "Perplexity": "Trader Joe's",
                                "Grok": "Whole Foods 365"
                            }
                        },
                        {
                            question: "What grocery items give a fine-dining experience without high cost",
                            responses: {
                                "ChatGPT": "Trader Joe's",
                                "Claude": "Costco Kirkland Signature",
                                "Gemini": "Kirkland Signature",
                                "Llama": "Trader Joe's",
                                "Perplexity": "Whole Foods 365 / Fresh Market",
                                "Grok": "Publix GreenWise"
                            }
                        },
                        {
                            question: "What ingredients help create an upscale charcuterie night from a regular grocery store",
                            responses: {
                                "ChatGPT": "Whole Foods 365",
                                "Claude": "Trader Joe's",
                                "Gemini": "Aldi Specially Selected",
                                "Llama": "Trader Joe's",
                                "Perplexity": "Trader Joe's / Whole Foods 365 / Fresh Market",
                                "Grok": "Costco Kirkland Signature"
                            }
                        },
                        {
                            question: "Which store-bought desserts feel like something from a bakery boutique",
                            responses: {
                                "ChatGPT": "Trader Joe's",
                                "Claude": "Whole Foods Bakery",
                                "Gemini": "Wegmans Brand",
                                "Llama": "Costco Kirkland Signature",
                                "Perplexity": "Fresh Market / Trader Joe's",
                                "Grok": "Trader Joe's"
                            }
                        },
                        {
                            question: "What easy upscale dinner items can be found at mainstream grocers",
                            responses: {
                                "ChatGPT": "Kroger Private Selection",
                                "Claude": "Trader Joe's",
                                "Gemini": "Private Selection",
                                "Llama": "Costco Kirkland Signature",
                                "Perplexity": "Trader Joe's / Whole Foods 365",
                                "Grok": "‚Äî"
                            }
                        }
                    ]
                },
                {
                    name: "Gourmet Flavor Seeking",
                    prompts: [
                        {
                            question: "What frozen foods deliver bold, gourmet flavors on a budget",
                            responses: {
                                "ChatGPT": "Trader Joe's",
                                "Claude": "Trader Joe's",
                                "Gemini": "Trader Joe's",
                                "Llama": "Trader Joe's",
                                "Perplexity": "Trader Joe's",
                                "Grok": "Aldi Specially Selected"
                            }
                        },
                        {
                            question: "What pantry staples offer rich, restaurant-level flavors",
                            responses: {
                                "ChatGPT": "Whole Foods 365",
                                "Claude": "Costco Kirkland Signature",
                                "Gemini": "Kirkland Signature",
                                "Llama": "Costco Kirkland Signature",
                                "Perplexity": "Trader Joe's / Whole Foods 365",
                                "Grok": "Kroger Private Selection"
                            }
                        },
                        {
                            question: "Which supermarket sauces taste more premium than typical national brands",
                            responses: {
                                "ChatGPT": "Trader Joe's",
                                "Claude": "Rao's",
                                "Gemini": "Private Selection",
                                "Llama": "Whole Foods 365",
                                "Perplexity": "Whole Foods 365 / Trader Joe's",
                                "Grok": "Whole Foods 365"
                            }
                        },
                        {
                            question: "What elevated spice blends add depth to home cooking",
                            responses: {
                                "ChatGPT": "Whole Foods 365",
                                "Claude": "Trader Joe's",
                                "Gemini": "Trader Joe's",
                                "Llama": "Trader Joe's",
                                "Perplexity": "Trader Joe's",
                                "Grok": "Trader Joe's"
                            }
                        },
                        {
                            question: "What pasta sauces taste closest to chef-crafted versions",
                            responses: {
                                "ChatGPT": "Rao's",
                                "Claude": "Rao's",
                                "Gemini": "Private Selection",
                                "Llama": "Costco Kirkland Signature",
                                "Perplexity": "Whole Foods 365",
                                "Grok": "Aldi Priano"
                            }
                        },
                        {
                            question: "What premium sides add a gourmet touch to a simple meal",
                            responses: {
                                "ChatGPT": "Costco Kirkland Signature",
                                "Claude": "Trader Joe's",
                                "Gemini": "Whole Foods",
                                "Llama": "Whole Foods 365",
                                "Perplexity": "Trader Joe's / Whole Foods 365",
                                "Grok": "Costco Kirkland Signature"
                            }
                        }
                    ]
                },
                {
                    name: "Entertaining and Hosting",
                    prompts: [
                        {
                            question: "What store-bought appetizers feel fancy enough for a dinner party",
                            responses: {
                                "ChatGPT": "Trader Joe's",
                                "Claude": "Trader Joe's",
                                "Gemini": "Trader Joe's",
                                "Llama": "Trader Joe's",
                                "Perplexity": "Trader Joe's / Fresh Market",
                                "Grok": "Trader Joe's"
                            }
                        },
                        {
                            question: "Which private-label cheeses pair well with wine for entertaining",
                            responses: {
                                "ChatGPT": "Costco Kirkland Signature",
                                "Claude": "Costco Kirkland Signature",
                                "Gemini": "Aldi Specially Selected",
                                "Llama": "Costco Kirkland Signature",
                                "Perplexity": "Whole Foods 365 / Trader Joe's",
                                "Grok": "Whole Foods 365"
                            }
                        },
                        {
                            question: "What elevated crackers or breads work well for hosting",
                            responses: {
                                "ChatGPT": "Trader Joe's",
                                "Claude": "Trader Joe's",
                                "Gemini": "Private Selection",
                                "Llama": "Trader Joe's",
                                "Perplexity": "Trader Joe's / Fresh Market",
                                "Grok": "Kroger Private Selection"
                            }
                        },
                        {
                            question: "What dip or spread options feel gourmet for events or gatherings",
                            responses: {
                                "ChatGPT": "Trader Joe's",
                                "Claude": "Trader Joe's",
                                "Gemini": "Trader Joe's",
                                "Llama": "Whole Foods 365",
                                "Perplexity": "Trader Joe's",
                                "Grok": "Aldi Specially Selected"
                            }
                        },
                        {
                            question: "Which store-brand charcuterie items are great for building a board",
                            responses: {
                                "ChatGPT": "Costco Kirkland Signature",
                                "Claude": "Trader Joe's",
                                "Gemini": "Kirkland Signature",
                                "Llama": "Trader Joe's",
                                "Perplexity": "Trader Joe's",
                                "Grok": "Kirkland Signature"
                            }
                        },
                        {
                            question: "What tasty desserts can impress guests without baking at home",
                            responses: {
                                "ChatGPT": "Trader Joe's",
                                "Claude": "Costco Bakery",
                                "Gemini": "Whole Foods Market",
                                "Llama": "Costco Kirkland Signature",
                                "Perplexity": "Fresh Market / Trader Joe's",
                                "Grok": "Publix Bakery"
                            }
                        }
                    ]
                },
                {
                    name: "Premium Indulgence Items",
                    prompts: [
                        {
                            question: "What ice creams or gelatos feel like a step above standard grocery brands",
                            responses: {
                                "ChatGPT": "H√§agen-Dazs",
                                "Claude": "Trader Joe's",
                                "Gemini": "Private Selection",
                                "Llama": "Trader Joe's",
                                "Perplexity": "Trader Joe's / Fresh Market",
                                "Grok": "Trader Joe's"
                            }
                        },
                        {
                            question: "Which premium coffees sold at supermarkets feel most indulgent",
                            responses: {
                                "ChatGPT": "Starbucks",
                                "Claude": "Costco Kirkland Signature",
                                "Gemini": "Kirkland Signature",
                                "Llama": "Costco Kirkland Signature",
                                "Perplexity": "Archer Farms / Massimo Zanetti",
                                "Grok": "Whole Foods 365"
                            }
                        },
                        {
                            question: "What upscale chocolates or sweet snacks are good for gifting",
                            responses: {
                                "ChatGPT": "Lindt",
                                "Claude": "Trader Joe's",
                                "Gemini": "Aldi Specially Selected",
                                "Llama": "Trader Joe's",
                                "Perplexity": "Trader Joe's / Whole Foods 365",
                                "Grok": "Aldi Choceur"
                            }
                        },
                        {
                            question: "Which frozen meals feel closest to a chef-prepared dish",
                            responses: {
                                "ChatGPT": "Trader Joe's",
                                "Claude": "Trader Joe's",
                                "Gemini": "Private Selection",
                                "Llama": "Costco Kirkland Signature",
                                "Perplexity": "Fresh Market / Trader Joe's",
                                "Grok": "Kroger Private Selection"
                            }
                        },
                        {
                            question: "What luxury-inspired pantry items can elevate everyday meals",
                            responses: {
                                "ChatGPT": "Whole Foods 365",
                                "Claude": "Trader Joe's",
                                "Gemini": "Kirkland Signature",
                                "Llama": "Whole Foods 365",
                                "Perplexity": "Whole Foods 365",
                                "Grok": "Costco Kirkland Signature"
                            }
                        },
                        {
                            question: "Which breakfast items feel higher quality than typical supermarket options",
                            responses: {
                                "ChatGPT": "Trader Joe's",
                                "Claude": "Trader Joe's",
                                "Gemini": "Wegmans Brand",
                                "Llama": "Trader Joe's",
                                "Perplexity": "Trader Joe's / Whole Foods 365",
                                "Grok": "Trader Joe's"
                            }
                        }
                    ]
                }
            ],
            brandGroups: {
                "Trader Joe's": ["Trader Joe's"],
                "Whole Foods": ["Whole Foods 365", "Whole Foods Bakery", "Whole Foods Market", "Whole Foods"],
                "Costco": ["Costco Kirkland Signature", "Kirkland Signature", "Costco Bakery", "Costco"],
                "Kroger": ["Private Selection", "Kroger Private Selection", "Private Selection (Kroger)"],
                "Aldi": ["Aldi Specially Selected", "Aldi SimplyNature", "Aldi Priano", "Aldi Choceur", "Aldi"],
                "Fresh Market": ["The Fresh Market", "Fresh Market"],
                "Publix": ["Publix GreenWise", "Publix Bakery", "Publix"],
                "Target": ["Good & Gather", "Good & Gather (Target)"],
                "Wegmans": ["Wegmans Brand", "Wegmans"],
                "Rao's": ["Rao's"],
                "H√§agen-Dazs": ["H√§agen-Dazs"],
                "Starbucks": ["Starbucks"],
                "Lindt": ["Lindt"],
                "Archer Farms": ["Archer Farms"],
                "Massimo Zanetti": ["Massimo Zanetti"]
            }
        };

        // Utility: Escape regex special characters
        function escapeForRegex(str) {
            return str.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
        }

        // Restore original cell content
        function restoreOriginalCells() {
            document.querySelectorAll('[data-original-text]').forEach(cell => {
                cell.innerHTML = cell.getAttribute('data-original-text');
            });
        }

        // Get canonical brand name (parent)
        function canonicalizeBrand(brandName) {
            const groups = window.WINDOW_DATA.brandGroups;
            for (const [parent, children] of Object.entries(groups)) {
                if (children.some(child => child.toLowerCase() === brandName.toLowerCase())) {
                    return parent;
                }
            }
            return brandName;
        }

        // Compute brand counts with parent roll-ups
        function computeBrandCounts() {
            const brandCounts = {};
            const cells = document.querySelectorAll('.prompt-cell, .llm-response');
            
            cells.forEach(cell => {
                const text = cell.getAttribute('data-original-text') || cell.textContent;
                const groups = window.WINDOW_DATA.brandGroups;
                
                for (const [parent, children] of Object.entries(groups)) {
                    children.forEach(brandVariant => {
                        const escapedBrand = escapeForRegex(brandVariant);
                        const regex = new RegExp(`\\b${escapedBrand}\\b`, 'gi');
                        const matches = text.match(regex);
                        if (matches) {
                            brandCounts[parent] = (brandCounts[parent] || 0) + matches.length;
                        }
                    });
                }
            });

            // Sort by count descending, then by name ascending
            const sorted = Object.entries(brandCounts)
                .sort((a, b) => {
                    if (b[1] !== a[1]) return b[1] - a[1];
                    return a[0].localeCompare(b[0]);
                })
                .slice(0, 10);

            return sorted;
        }

        // Highlight matches for given brands
        function highlightMatches(canonicalBrands, scrollToFirst = false) {
            restoreOriginalCells();

            if (canonicalBrands.length === 0) {
                updateSearchCounter(0);
                return;
            }

            const groups = window.WINDOW_DATA.brandGroups;
            const allVariants = [];
            
            canonicalBrands.forEach(canonical => {
                if (groups[canonical]) {
                    allVariants.push(...groups[canonical]);
                }
            });

            if (allVariants.length === 0) {
                updateSearchCounter(0);
                return;
            }

            const cells = document.querySelectorAll('.prompt-cell, .llm-response');
            let totalMatches = 0;
            let firstMatch = null;

            cells.forEach(cell => {
                let html = cell.getAttribute('data-original-text');
                
                allVariants.forEach(variant => {
                    const escapedVariant = escapeForRegex(variant);
                    const regex = new RegExp(`\\b(${escapedVariant})\\b`, 'gi');
                    const matches = html.match(regex);
                    if (matches) {
                        totalMatches += matches.length;
                    }
                    html = html.replace(regex, '<span class="highlight">$1</span>');
                });

                cell.innerHTML = html;

                if (!firstMatch && cell.querySelector('.highlight')) {
                    firstMatch = cell;
                }
            });

            updateSearchCounter(totalMatches);

            if (scrollToFirst && firstMatch) {
                firstMatch.scrollIntoView({ behavior: 'smooth', block: 'center' });
            }
        }

        // Update search counter
        function updateSearchCounter(count) {
            const counter = document.getElementById('searchResults');
            if (count > 0) {
                counter.textContent = `${count} match${count !== 1 ? 'es' : ''} found`;
            } else {
                counter.textContent = '';
            }
        }

        // Build brand bar
        function buildBrandBar() {
            const brandCounts = computeBrandCounts();
            
            if (brandCounts.length === 0) return;

            const brandBar = document.getElementById('brandBar');
            const brandButtons = document.getElementById('brandButtons');
            
            brandBar.style.display = 'block';
            brandButtons.innerHTML = '';

            brandCounts.forEach(([brand, count]) => {
                const btn = document.createElement('button');
                btn.className = 'brand-btn';
                btn.textContent = `${brand} (${count})`;
                btn.dataset.brand = brand;
                
                btn.addEventListener('click', () => {
                    btn.classList.toggle('brand-btn-active');
                    updateHighlightsFromActiveBrands();
                });
                
                brandButtons.appendChild(btn);
            });

            const clearBtn = document.createElement('button');
            clearBtn.className = 'brand-clear';
            clearBtn.textContent = 'Clear All';
            clearBtn.addEventListener('click', () => {
                document.querySelectorAll('.brand-btn-active').forEach(btn => {
                    btn.classList.remove('brand-btn-active');
                });
                restoreOriginalCells();
                updateSearchCounter(0);
            });
            
            brandButtons.appendChild(clearBtn);
        }

        // Update highlights based on active brands
        function updateHighlightsFromActiveBrands() {
            const activeBrands = Array.from(document.querySelectorAll('.brand-btn-active'))
                .map(btn => btn.dataset.brand);
            
            highlightMatches(activeBrands, true);
        }

        // Manual search functionality
        function performSearch(query) {
            restoreOriginalCells();

            if (!query.trim()) {
                updateSearchCounter(0);
                return;
            }

            const cells = document.querySelectorAll('.prompt-cell, .llm-response');
            const escapedQuery = escapeForRegex(query);
            const regex = new RegExp(`\\b(${escapedQuery})\\b`, 'gi');
            let totalMatches = 0;
            let firstMatch = null;

            cells.forEach(cell => {
                let html = cell.getAttribute('data-original-text');
                const matches = html.match(regex);
                
                if (matches) {
                    totalMatches += matches.length;
                    html = html.replace(regex, '<span class="highlight">$1</span>');
                    cell.innerHTML = html;

                    if (!firstMatch) {
                        firstMatch = cell;
                    }
                }
            });

            updateSearchCounter(totalMatches);

            if (firstMatch) {
                firstMatch.scrollIntoView({ behavior: 'smooth', block: 'center' });
            }
        }

        // Render categories and tables
        function renderCategories() {
            const container = document.getElementById('categoriesContainer');
            const data = window.WINDOW_DATA;

            data.categories.forEach(category => {
                const section = document.createElement('div');
                section.className = 'category-section';

                const header = document.createElement('div');
                header.className = 'category-header';
                header.innerHTML = `
                    <h2>${category.name}</h2>
                    <p class="category-stats">${category.prompts.length} prompts analyzed across ${data.llms.length} LLMs</p>
                `;
                section.appendChild(header);

                const tableContainer = document.createElement('div');
                tableContainer.className = 'table-container';

                const table = document.createElement('table');
                table.className = 'data-table';

                // Table header
                const thead = document.createElement('thead');
                const headerRow = document.createElement('tr');
                headerRow.innerHTML = '<th>Prompt Question</th>';
                data.llms.forEach(llm => {
                    headerRow.innerHTML += `<th>${llm}</th>`;
                });
                thead.appendChild(headerRow);
                table.appendChild(thead);

                // Table body
                const tbody = document.createElement('tbody');
                category.prompts.forEach(prompt => {
                    const row = document.createElement('tr');
                    
                    const promptCell = document.createElement('td');
                    promptCell.className = 'prompt-cell';
                    promptCell.textContent = prompt.question;
                    promptCell.setAttribute('data-original-text', prompt.question);
                    row.appendChild(promptCell);

                    data.llms.forEach(llm => {
                        const responseCell = document.createElement('td');
                        responseCell.className = 'llm-response';
                        const response = prompt.responses[llm] || '‚Äî';
                        responseCell.textContent = response;
                        responseCell.setAttribute('data-original-text', response);
                        row.appendChild(responseCell);
                    });

                    tbody.appendChild(row);
                });
                table.appendChild(tbody);

                tableContainer.appendChild(table);
                section.appendChild(tableContainer);
                container.appendChild(section);
            });
        }

        // Initialize
        function init() {
            renderCategories();
            buildBrandBar();

            // Search functionality
            const searchInput = document.getElementById('searchInput');
            const clearSearch = document.getElementById('clearSearch');

            searchInput.addEventListener('input', (e) => {
                performSearch(e.target.value);
            });

            clearSearch.addEventListener('click', () => {
                searchInput.value = '';
                restoreOriginalCells();
                updateSearchCounter(0);
            });
        }

        // Run on load
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
